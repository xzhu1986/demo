<#import '../users-frame.html' as uf>
<#include '/common/frame/global-settings.html'>

<@uf.usframe 'agent'>		
		<form action="#" id="setting-search-form" autocomplete="off">
			<table class="maxWidthTable sortable">
				<tr id="filter">
					<th width='24%'><input name="username" type="text" style="width:100%" value='${(username)!}'/></th>
					<th width='25%'><input name="email" type="text" style="width:100%" value='${(email)!}'/></th>
					<th width='25%'><input name="agentName" type="text" style="width:100%" value='${(agentName)!}'/></th>
					<th width="25%">
						<select name="status" >
							<option value=""></option>
							<#assign dataList=transforEnumToList('au.com.isell.rlm.module.user.constant.UserStatus',"true")>
							<@htmlGen.selOptions status!"" dataList {"key":"key","display":"name"}/>
						</select>	
						<input name="submit" id="search" type="submit" title="Search" value="" /> 
						<input name="cancel" id="cancel" value="" type="reset" />
						<select name="pageSize" style="float:right;">
							<@htmlGen.selOptions (pageSize)!25 pageDataList {"key":"key","display":"value"}/>
						</select>
					</th>
				</tr>
			
				<tr id="filterTitle">
					<td>Username</td>
					<td>Email</td>
					<td>Agent Name</td>
					<td>Status</td>
				</tr>
				<#if data??>
					<#list data as item>
						<tr ${(item_index%2==1)?string('class="pajamaLine"',"")}>
							<td><a href="${basePath}/users/agent/${item.userId!}" target="_blank">${(item.username)!}</a></td>
							<td>${(item.email)!}</td>
							<td>${(item.agentName)!}</td>
							<td>${(item.status)!}</td>
						</tr>
					</#list>
				</#if>
			</table>
			<div id="pageLinks">
				<@pagingBar.pagingBar1 paging/>
			</div>
		</form>
</@uf.usframe>