<#import '../settings-frame.html' as sf>
<#include '/common/frame/global-settings.html'>

<@sf.sframe>
<form action="#" id="setting-search-form" autocomplete="off">
	<table class="maxWidthTable sortable">
		<tr id="filter">
			<th><input name="typeName" type="text" style="width:100%" value='${(typeName)!}'/></th>
			<th><input name="subject" type="text" style="width:100%" value='${(subject)!}'/></th>
			<@shiro.hasPermission name="setting:delete">
			<th width="100px;">
				<input name="submit" id="search" type="submit" title="Search" value="" /> 
				<input name="cancel" id="cancel" value="" type="reset" />
				<select name="pageSize">
					<@htmlGen.selOptions (pageSize)!25 pageDataList {"key":"key","display":"value"}/>
				</select>
			</th>
			</@shiro.hasPermission>
		</tr>
	
		<tr id="filterTitle">
			<td>Name</td>
			<td>Subject</td>
			<td>Actions</td>
		</tr>
		<#if data??>
			<#list data as item>
				<tr ${(item_index%2==1)?string('class="pajamaLine"',"")}>
					<td class='line-key'><a href="${sf.basePath}/settings/${category}/${item.typeId}" target="_blank">${(item.typeName)!}</a></td>
					<td>${(item.subject)!}</td>
					<@shiro.hasPermission name="setting:delete">
					<td><a href="${sf.basePath}/settings/${category}/${item.typeId}.json" class="delete-email-tpl">Delete</a></td>
					</@shiro.hasPermission>
				</tr>
			</#list>
		</#if>
	</table>
	<div id="pageLinks">
		<@pagingBar.pagingBar1 paging/>
	</div>
</form>

</@sf.sframe>