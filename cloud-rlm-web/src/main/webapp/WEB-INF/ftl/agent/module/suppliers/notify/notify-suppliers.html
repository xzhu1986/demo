<#include "/common/frame/global-settings.html">
<style type="text/css">
.email-type .ui-autocomplete-input {
    height: 1.15em;
    margin: 0;
    padding: 0;
    text-align: left;
    width: 8.5em !important;
}
</style>
<div >
	<form action="${basePath}/supplier/notify-supplier/filter.json" autocomplete="off" id="notify-form">
		<table  class="maxWidthTable sortable">
			<caption><h3>Send Bulk Email</h3></caption>
			<tr>
				<td>Supplier Name:</td>
				<td> 
					<input type="text" name="shortName" value="">
				</td>
				<td>Country: </td>
				<td>
					<select name="country" id="country" class="maxWidthSelect">
						<option value=""></option>
						<#assign dataList=dataLoader('au.com.isell.rlm.module.address.service.impl.AddressServiceImpl',"getSubItems",'root')>
						<@htmlGen.selOptions country!'' dataList {"key":"code","display":"name"}/>
					</select>
				</td>
				<td style="width:200px;"></td>
			</tr>

			<tr>
				<td>Email Template: </td>
				<td colspan="3">
					<select name="emailType"  id="emailType" class="maxWidthInput">
						<option value=""></option>
						<#assign dataList=dataLoader('au.com.isell.rlm.module.mail.service.EmailTemplateService',"queryNotifyEmailTemplates","","Suppliers")> 
						<@htmlGen.selOptions '' dataList {"key":"typeId","display":"typeName"}/>
					</select> 
				</td>
			</tr>
			
			<tr>
				<td>Subject: </td>
				<td colspan="3"><input type="text" name="subject" id="subject" class="maxWidthInput"></td>
			</tr>
			
			<tr>
				<td>Sender: </td>
				<td colspan="2"><input type="text" name="senderEmail" id="senderEmail" reg='(.+@.+\..+)?' style="width:70%"></td>
			</tr>

			<tr>
				<td>Ignore: </td>
				<td colspan="4"><input type="checkbox" name="recoveryMode">Don't send to resellers that have received this email template today.
				</td>
			</tr>
			
			<tr>
				<td colspan="4"></td>
				<td class="textRightAligned">
					<button class='link-btn'>Search</button>&nbsp;
					<button class='link-btn' type="button" id="sendNotifyEmail" data-url='${basePath}/supplier/notify-supplier/email.json'>Send</button>
				</td>
			</tr>
		</table>

		<table  id="notify-table" class="maxWidthTable sortable withBorder">
			<thead>
				<tr>
					<th style="width: 5%"></th>
					<th style="width: 50%">Name</th>
					<th style="width: 45%">Email</th>
				</tr>
			</thead>
			
		</table>
	</form>
</div>
