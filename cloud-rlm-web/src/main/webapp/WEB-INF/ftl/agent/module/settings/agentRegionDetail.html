<#include '/common/frame/global-settings.html'>


<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Agent Region</title>
	<#include '/common/resource.html'>
</head>
<body>
	<div id="contentBody">
		<form action="${basePath}/settings/Agents/${agentId}/region" method="post" id="detail-form" autocomplete="off">
		<div id="actionBar">
			<ul>
				<@shiro.hasPermission name="setting:edit">
				<#if data.regionCode??>
					<li><button class="link-btn edit-btn" type="button">Edit</button></li>
				</#if>
				<li><button class="link-btn save-btn">Save</button></li>
				</@shiro.hasPermission>
				<li><button class="link-btn cancel-btn" type="reset" >Cancel</button></li>
			</ul>
		</div>

		<div class="commonBox" style="width:100%;">
			<h2>Reseller Supplier</h2>
			<table>
				<tr>
					<td>Region</td>
					<td class='regionCodeCol'>
						<input type="hidden" name="agentId" value="${data.agentId!}" />
						<input type="hidden" name="regionCode" value="${data.regionCode!}" />
						<input type="hidden" name="oldRegionCode" value="${data.regionCode!}"/>
						<span class='regionCodeSels'>
							<select>
								<option value=""></option>
								<#assign dataList=dataLoader('au.com.isell.rlm.module.address.service.AddressService',"getSubItems",'root')> 
								<@htmlGen.selOptions data.regionCode!'null' dataList {"key":"code","display":"name"}/>
							</select>
						</span>
						<span class="regionCodeConfirm">
							<a class='confirm-ok'><img src="${resourceBasePath}/media/ok.png"/></a>
							<a href="#" class='confirm-pending' style='display:none;' title="confirm"><img src="${resourceBasePath}/media/exclamation.png"/></a>
						</span>
					</td>
				</tr>

				<tr>
					<td>Currency</td>
					<td>
						<select name="currency">
							<#assign dataList=dataLoader('au.com.isell.rlm.module.system.service.SystemService',"getCurrencies")> 
							<@htmlGen.selOptions data.currency!'null' dataList  {"key":"code","display":"name"}/>
						</select>		
					</td>
				</tr>

				<tr>
					<td>Tax Rate</td>
					<td><input type="text" size=2 name="taxRate" value='${data.taxRate!}' reg="^\d*$"/>%</td>
				</tr>
				<tr>
					<td>Tax Name</td>
					<td><input type="text"  name="taxName" value="${(data.taxName)!}"/></td>
				</tr>

				<tr>
					<td>Status</td>
					<td>
						<select name="status"> <#assign
								statusTypeDataList=transforEnumToList('au.com.isell.rlm.module.agent.domain.AgentRegion$AgentRegionStatus',"false")> 
								<@htmlGen.selOptions data.status!'null' statusTypeDataList {"key":"key","display":"name"}/>
						</select>
					</td>
				</tr>
			</table>
		</div>
		</form>
		<div style="clear: both;"></div>
	</div>
	<script type="text/javascript" src='${resourceBasePath}/js/entry/agent/module/setting/agent-region-detail.js'></script>
</body>
</html>