<#import "/agent/module/settings/agentFrame.html" as sframe>
<#include "/common/frame/global-settings.html">
<#import "/module/address/address.html" as addr>

<@sframe.setting>
<div id="content">
	<@sframe.settingNavTabs "details"/>

	<div id="contentBody">
		<form action="#" autocomplete="off" method="post" id="detail-form">
			<div id="actionBar">
				<ul>
					<@shiro.hasPermission name="setting:edit">
					<li><button class="link-btn edit-btn" type="button">Edit</button></li>
					<li><button class="link-btn save-btn">Save</button></li>
					<li><button class="link-btn cancel-btn" type="reset">Cancel</button></li>
					</@shiro.hasPermission>
				</ul>
			</div>
			<div class="commonBox">
				<h2>Agent Details</h2>
				<table>
					<tr>
						<td>Name</td>
						<td><input type="hidden" readOnly="readOnly" class="form-field2" value="${(data.agentId)!}" name="agentId"/><input type="text" class="form-field2" value="${(data.name)!}" name="name"/></td>
					</tr>

					<#-- import the address --> 
					<#assign addressVal= data.address>
					<@addr.address data.country 'address' addressVal />
					
					<tr>
						<td>Company</td>
						<td><input type="text" class="form-field2" value="${(data.company)!}" name="company"/></td>
					</tr>
					
					<tr>
						<td>Status</td>
						<td>
							<select name="status">
								<option value=""></option>
								<#assign dataList=transforEnumToList('au.com.isell.rlm.module.agent.domain.Agent$Status',"false")> 
								<@htmlGen.selOptions (data.status)!'null' dataList {"key":"key","display":"name"}/>
							</select>
						</td>
					</tr>
				</table>
			</div>
			<div class="commonBox">
				<h2>Contact Us Information</h2>
				<table>
					<tr>
						<td>&nbsp;</td>
						<td></td>
					</tr>
					<tr>
						<td>Contact Times</td>
						<td><input type="text" class="form-field2" value="${(data.contactTimes)!}" name="contactTimes"/></td>
					</tr>
					<tr>
						<td>Include Address</td>
						<#assign checkedStr=data.includeAddrInContact?string("checked='checked'","")>
						<td><input type="checkbox" class="perm-element" name="includeAddrInContact" ${checkedStr}/>Show address on contact us</td>
					</tr>
					<tr>
						<td>Phone</td>
						<td><input type="text" class="form-field2" value="${(data.phone)!}" name="phone"/></td>
					</tr>
					<tr>
						<td>International Phone</td>
						<td><input type="text" class="form-field2" value="${(data.internationalPhone)!}" name="internationalPhone"/></td>
					</tr>
					<tr>
						<td>Fax</td>
						<td><input type="text" class="form-field2" value="${(data.fax)!}" name="fax"/></td>
					</tr>
					<tr>
						<td>Email</td>
						<td><input type="text" class="form-field2" value="${(data.email)!}" name="email"/></td>
					</tr>
					<tr>
						<td>Accounts Phone</td>
						<td><input type="text" class="form-field2" value="${(data.accountsPhone)!}" name="accountsPhone"/></td>
					</tr>
					<tr>
						<td>Accounts Email</td>
						<td><input type="text" class="form-field2" value="${(data.accountsEmail)!}" name="accountsEmail"/></td>
					</tr>
				</table>
			</div>
			<div style="clear: both;"></div>
		</form>
	</div>
</div>
<script type="text/javascript" src="${resourceBasePath}/js/module/address/choose.js"></script>
<script type="text/javascript" src="${resourceBasePath}/js/entry/agent/module/setting/agent-detail.js"></script>
</@sframe.setting>
