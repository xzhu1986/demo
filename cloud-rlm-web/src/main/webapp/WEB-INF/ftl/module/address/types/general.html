<#assign basePath=req.contextPath/> 
<#assign dataLoader = "au.com.isell.rlm.common.freemarker.func.DataLoader"?new()>
<#macro generalAddr addrFieldName addrFieldVal>
	<tr class="address-item">
		<td>Country</td>
		<td>
			<input type="hidden" name="${addrFieldName}.countryCode" value='${addrFieldVal.countryCode}' />
			<select  class="countryCodeDisp unmodified form-field3" disabled="disabled" name="${addrFieldName}.countryCodeDisp" data-value='${addrFieldVal.countryCode}' data-url="${basePath}/address/sub-addresses/root.json" data-cascading="${addrFieldName}.region">
			</select></td>
	</tr>
	<tr  class="address-item">
		<td class="topAligned">Address</td>
		<td>
			<input type="text" class="form-field3" name="${addrFieldName}.address1" value="${(addrFieldVal.address1)!}" style="margin: 0 0 4px 0;"/></br>
			<input type="text" class="form-field3" name="${addrFieldName}.address2" value="${(addrFieldVal.address2)!}" style="margin: 0 0 4px 0;"/></br>
			<input type="text" class="form-field3" name="${addrFieldName}.address3" value="${(addrFieldVal.address3)!}"/></br>
		</td>
	</tr>
	<#assign addressItem=dataLoader('au.com.isell.rlm.module.address.service.AddressService','getAddressItem',(addrFieldVal.countryCode)!)>
	<tr  class="address-item">
		<td>${(addressItem.regionName)!'Region'}</td>
		<td><select name="${addrFieldName}.region" class="form-field3" data-url="${basePath}/address/sub-addresses/{0}.json" data-value='${(addrFieldVal.region)!}'  >
			</select></td>
	</tr>
	<tr  class="address-item">
		<td>City</td>
		<td><input type="text" name="${addrFieldName}.city" value="${(addrFieldVal.city)!}" style="width: 138px;"/></td>
	</tr>
	<tr  class="address-item">
		<td>Postcode</td>
		<td><input type="text" name="${addrFieldName}.postcode" value="${(addrFieldVal.postcode)!}" style="width: 138px;"/></td>
	</tr>
</#macro>